<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation for the Proxmoxer Python library"><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><title>Authentication - Proxmoxer Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.472b142f.min.css><link rel=stylesheet href=../assets/stylesheets/palette.08040f6c.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github-dark-dimmed.min.css><link rel=stylesheet href=../assets/css/links.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=deep-orange data-md-color-accent=lime> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#authentication class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Proxmoxer Documentation" class="md-header__button md-logo" aria-label="Proxmoxer Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Proxmoxer Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Authentication </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-orange data-md-color-accent=lime aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path fill-rule=evenodd d="M8 10.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0zm0 13a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13zM2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.75.75 0 0 1-1.06 1.06l-1.06-1.06a.75.75 0 0 1 0-1.06zm9.193 9.193a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061zM16 8a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8zM3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8zm10.657-5.657a.75.75 0 0 1 0 1.061l-1.061 1.06a.75.75 0 1 1-1.06-1.06l1.06-1.06a.75.75 0 0 1 1.06 0zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=amber data-md-color-accent=lime aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path fill-rule=evenodd d="M9.598 1.591a.75.75 0 0 1 .785-.175 7 7 0 1 1-8.967 8.967.75.75 0 0 1 .961-.96 5.5 5.5 0 0 0 7.046-7.046.75.75 0 0 1 .175-.786zm1.616 1.945a7 7 0 0 1-7.678 7.678 5.5 5.5 0 1 0 7.678-7.678z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/proxmoxer/proxmoxer/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> proxmoxer/proxmoxer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Proxmoxer Documentation" class="md-nav__button md-logo" aria-label="Proxmoxer Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Proxmoxer Documentation </label> <div class=md-nav__source> <a href=https://github.com/proxmoxer/proxmoxer/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> proxmoxer/proxmoxer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Welcome to Proxmoxer </a> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../basic_usage/ class=md-nav__link> Basic Usage </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Authentication <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Authentication </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#proxmox-api-permission-scopes class=md-nav__link> Proxmox API Permission Scopes </a> </li> <li class=md-nav__item> <a href=#https-backend class=md-nav__link> HTTPS Backend </a> <nav class=md-nav aria-label="HTTPS Backend"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#username-and-password class=md-nav__link> Username and Password </a> <nav class=md-nav aria-label="Username and Password"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#renewing-authentication class=md-nav__link> Renewing Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#api-token class=md-nav__link> API Token </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-backend class=md-nav__link> OpenSSH Backend </a> <nav class=md-nav aria-label="OpenSSH Backend"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#minimal-required-arguments class=md-nav__link> Minimal Required Arguments </a> </li> <li class=md-nav__item> <a href=#all-openssh-arguments class=md-nav__link> All OpenSSH Arguments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#paramiko class=md-nav__link> Paramiko </a> <nav class=md-nav aria-label=Paramiko> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key class=md-nav__link> Key </a> </li> <li class=md-nav__item> <a href=#password class=md-nav__link> Password </a> </li> <li class=md-nav__item> <a href=#all-paramiko-arguments class=md-nav__link> All Paramiko Arguments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local class=md-nav__link> Local </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../development/ class=md-nav__link> Development </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Migration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Migration data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Migration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../v1_migration/ class=md-nav__link> v1 to v2 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_7 type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7> Examples <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Examples data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../examples/tasks/ class=md-nav__link> Tasks </a> </li> <li class=md-nav__item> <a href=../examples/files/ class=md-nav__link> Sending Files </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#proxmox-api-permission-scopes class=md-nav__link> Proxmox API Permission Scopes </a> </li> <li class=md-nav__item> <a href=#https-backend class=md-nav__link> HTTPS Backend </a> <nav class=md-nav aria-label="HTTPS Backend"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#username-and-password class=md-nav__link> Username and Password </a> <nav class=md-nav aria-label="Username and Password"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#renewing-authentication class=md-nav__link> Renewing Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#api-token class=md-nav__link> API Token </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-backend class=md-nav__link> OpenSSH Backend </a> <nav class=md-nav aria-label="OpenSSH Backend"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#minimal-required-arguments class=md-nav__link> Minimal Required Arguments </a> </li> <li class=md-nav__item> <a href=#all-openssh-arguments class=md-nav__link> All OpenSSH Arguments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#paramiko class=md-nav__link> Paramiko </a> <nav class=md-nav aria-label=Paramiko> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key class=md-nav__link> Key </a> </li> <li class=md-nav__item> <a href=#password class=md-nav__link> Password </a> </li> <li class=md-nav__item> <a href=#all-paramiko-arguments class=md-nav__link> All Paramiko Arguments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#local class=md-nav__link> Local </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/proxmoxer/docs/edit/main/docs/authentication.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h1> <p>To access a Proxmox service, you must first authenticate with the API. The method changes based on the chosen backend, user type, and credential type.</p> <h2 id=proxmox-api-permission-scopes>Proxmox API Permission Scopes<a class=headerlink href=#proxmox-api-permission-scopes title="Permanent link">&para;</a></h2> <p>To interact with a Proxmox service, the authentication credentials used must have the appropriate permissions. For more information, view the Proxmox documentation on permissions (e.g. <a href=https://pve.proxmox.com/wiki/User_Management#pveum_permission_management>PVE Permissions</a>).</p> <h2 id=https-backend>HTTPS Backend<a class=headerlink href=#https-backend title="Permanent link">&para;</a></h2> <p>The HTTPS is the universally accepted backend and supports the most authentication options. To ensure you are only sending your credentials encrypted and to the correct server, make sure to setup a valid SSL certificate and remove <code>verify_ssl=False</code> from your initialization of the ProxmoxAPI object.</p> <h3 id=username-and-password>Username and Password<a class=headerlink href=#username-and-password title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Supported Services: PVE, PMG, PBS</p> </div> <p>Password authentication is the default authentication method and what is used by the web UI. To use this authentication method, the following data is needed:</p> <ul> <li>username</li> <li>realm (<code>pam</code>, <code>pve</code>, etc.)</li> <li>password</li> </ul> <p>For the <code>pve</code> realm, the password is set within the API/webUI. For other realms, the password is set in those tools (e.g. for the <code>pam</code> realm, the password is found in <code>/etc/passwd</code> (or really <code>/etc/shadow</code>) and can be set by running <code>passwd &lt;username&gt;</code> as root). If your user has a One Time Password (OTP) enabled, you will need to add the <code>otp</code> parameter and with your current OTP code to be able to authenticate. This is only required when first authenticating, as long as the requirements for authentication renewal are met (see below).</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;@&lt;realm&gt;', password='&lt;password&gt;', otp='&lt;otp_code&gt;', service='&lt;proxmox_service&gt;', verify_ssl=&lt;True|False&gt;, timeout=&lt;timeout_in_seconds&gt;)</code></pre> <p>For example:</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('10.10.10.10', user='root@pam', password='password', verify_ssl=False)
</code></pre> <h4 id=renewing-authentication>Renewing Authentication<a class=headerlink href=#renewing-authentication title="Permanent link">&para;</a></h4> <p>The authentication ticket retrieved using your username/password pair expires after 2 hours. To allow longer usage of proxmoxer, when a request is made close to the expiry of the ticket, the ticket is automatically renewed for another 2 hours. No user interaction is required for renewal and it will automatically be triggered by any request.</p> <p>If long-running usage of proxmoxer is required, the only requirement is to make a request within 2 hours of the most recent request. If the application will already make requests more regularly than 2 hours, no extra requests are needed to keep authentication valid. Any request will trigger an authentication renewal, so a basic <code>GET</code> (e.g. <a href=https://pve.proxmox.com/pve-docs/api-viewer/index.html#/version>getting version</a>) every hour or so is enough to keep authentication current. For an alternative, see <a href=#api-token>API Tokens</a> below for a stateless authentication method which allows fine-grain control over permissions and allows authentication expiry.</p> <p>Renewal also does not require OTP codes, so once initially authenticated with an OTP, proxmoxer can continue without user interaction.</p> <h3 id=api-token>API Token<a class=headerlink href=#api-token title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Supported Services: PVE, PBS</p> </div> <p>The API Token allows stateless interaction with the Proxmox service as well as independent permissions and more flexibility in credential lifecycle management. Abused/leaked API Tokens can be disabled independent of the account with which they are associated and multiple API Tokens can be created for a user, allowing each use its own API Token with only its needed permissions which can be independently managed.</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;@&lt;realm&gt;', token_name='&lt;token_name&gt;', token_value='&lt;token_value&gt;', service='&lt;proxmox_service&gt;', verify_ssl=&lt;True|False&gt;, timeout=&lt;timeout_in_seconds&gt;)</code></pre> <p>For example:</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('10.10.10.10', user='my_user@pam', token_name='testToken', token_value='41c97f11-b8c6-47db-9886-7fa841e64b6e', verify_ssl=False)</code></pre> <h2 id=openssh-backend>OpenSSH Backend<a class=headerlink href=#openssh-backend title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>Supported Services: PVE, PMG</p> </div> <p>The OpenSSH backend uses OpenSSH to remote into the Proxmox service and run the command using the service's CLI interface. This backend will default to using the config and key of the ssh client (usually in <code>~/.ssh/</code>), so often only needs a host and a user. As this uses SSH to log into the service, it can be considered to use the "pam" realm and the specified user must have permission to connect and run the appropriate commands. If the user does not natively have permission to run the required commands, adding an argument of <code>sudo=True</code> will prepend <code>sudo</code> to the command so the specified user can elevate privileges.</p> <h3 id=minimal-required-arguments>Minimal Required Arguments<a class=headerlink href=#minimal-required-arguments title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;', backend='openssh')</code></pre> <h3 id=all-openssh-arguments>All OpenSSH Arguments<a class=headerlink href=#all-openssh-arguments title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;', port=&lt;port_number&gt;, sudo=&lt;True|False&gt;, forward_ssh_agent=&lt;True|False&gt;, config_file='&lt;path_to_config_file&gt;', identity_file='&lt;path_to_identity_file&gt;', timeout=&lt;timeout_in_seconds&gt;, backend='openssh')</code></pre> <p>For example:</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('10.10.10.10', user='my_user', sudo=True, backend='openssh')</code></pre> <h2 id=paramiko>Paramiko<a class=headerlink href=#paramiko title="Permanent link">&para;</a></h2> <div class="admonition info"> <p class=admonition-title>Supported Services: PVE, PMG</p> </div> <p>Paramiko is an implementation of SSH completely in Python. This reduces some of the available functionality, but increases portability and reduces dependencies on outside programs. This backend supports password and key authentication.</p> <p>Paramiko uses the following order to attempt authentication:<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup></p> <ul> <li>private_key_file</li> <li>SSH Agent</li> <li>Auto-discovered key files</li> <li>Password</li> </ul> <h3 id=key>Key<a class=headerlink href=#key title="Permanent link">&para;</a></h3> <p>Paramiko defaults to looking for in <code>~/.ssh</code> for openssh-style key file names. If a <code>private_key_file</code> argument is present, it is used before any keys automatically found.</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;', private_key_file='&lt;path_to_file&gt;', backend='ssh_paramiko')</code></pre> <h3 id=password>Password<a class=headerlink href=#password title="Permanent link">&para;</a></h3> <p>If a password is provided, usage of an SSH agent is disabled.</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;', password='&lt;password&gt;', backend='ssh_paramiko')</code></pre> <h3 id=all-paramiko-arguments>All Paramiko Arguments<a class=headerlink href=#all-paramiko-arguments title="Permanent link">&para;</a></h3> <pre class=highlight><code class=language-python>prox = ProxmoxAPI('&lt;host_ip_or_domain&gt;', user='&lt;username&gt;', password='&lt;password&gt;', port=&lt;port&gt;, private_key_file='&lt;path_to_file&gt;', timeout=&lt;timeout_in_seconds&gt;, sudo=&lt;True|False&gt;, backend='ssh_paramiko')</code></pre> <h2 id=local>Local<a class=headerlink href=#local title="Permanent link">&para;</a></h2> <p>The local backend requires no authentication, other than optionally utilizing sudo.</p> <pre class=highlight><code class=language-python>prox = ProxmoxAPI(sudo=&lt;True|False&gt;, timeout=&lt;timeout_in_seconds&gt;, backend='local')</code></pre> <div class=footnote> <hr> <ol> <li id=fn:1> <p><a href=https://docs.paramiko.org/en/stable/api/client.html#paramiko.client.SSHClient.connect>https://docs.paramiko.org/en/stable/api/client.html#paramiko.client.SSHClient.connect</a>&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 26, 2022</span> </small> </div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../basic_usage/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Basic Usage" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Basic Usage </div> </div> </a> <a href=../development/ class="md-footer__link md-footer__link--next" aria-label="Next: Development" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Development </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.indexes", "navigation.top", "navigation.expand", "search.suggest"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.d6c3db9e.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js></script> <script src=../assets/js/custom.js></script> </body> </html>